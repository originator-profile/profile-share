---
sidebar_position: 2
---

# Originator Profile の仕組み

次の図は Originator Profile (OP) の仕組みの概略です。

![OP の仕組み](./assets/op-ihv.jpeg)

情報発信者がレジストリに登録/確認を受けて証明書 ([SOP](/terminology/signed-originator-profile.md)) を受け取り、作成したコンテンツとその情報に署名した証明書 ([SDP](/terminology/signed-document-profile.md)) と一緒にブラウザに送信する仕組みです。ブラウザは SOP, SDP を検証して受け取った情報の信頼性を確認・表示します。

将来的には検索エンジンなどのボット・クローラーや、ファクトチェックや広告品質に関する機関が、標準化された OP の仕組みを利用することを想定しています。

## データモデル

OP では次のようなデータを定義しています。

import SopSvg from "./assets/sop.svg";
import SdpSvg from "./assets/sdp.svg";
import SapSvg from "./assets/sap.svg";
import SignedSpSvg from "./assets/signed-sp.svg";

<table>
  <thead>
    <tr style={{ backgroundColor: "white" }}>
      <th></th>
      <th>
        <SopSvg />
      </th>
      <th>
        <SdpSvg />
      </th>
      <th>
        <SapSvg />
      </th>
      <th>
        <SignedSpSvg />
      </th>
    </tr>
  </thead>
  <tr>
    <td>名称</td>
    {/* prettier-ignore */}
    <td>[Signed Originator Profile](/terminology/signed-originator-profile.md)</td>
    {/* prettier-ignore */}
    <td>[Signed Document Profile](/terminology/signed-document-profile.md)</td>
    {/* prettier-ignore */}
    <td>[Signed Advertisement Profile](/terminology/advertisement-profile.md)</td>
    {/* prettier-ignore */}
    <td>[Signed Site Profile](/terminology/signed-site-profile.md)</td>
  </tr>
  <tr>
    <td>主な用途</td>
    <td>組織の信頼性を提示する</td>
    <td>ニュース記事などに信頼性情報を付与する</td>
    <td>広告に信頼性情報を付与する</td>
    <td>Web サイトの保有者を表明する</td>
  </tr>
  <tr>
    <td>記載情報</td>
    {/* prettier-ignore */}
    <td>
  - OP ID
  - 組織情報
  - 情報発信者ポリシー URL
  - 資格情報
  </td>
    {/* prettier-ignore */}
    <td>
  - DP ID
  - コンテンツ付帯情報
  - コンテンツ範囲
  - コンテンツ改ざん防止署名
  </td>
    {/* prettier-ignore */}
    <td>
  - AP ID
  - 広告付帯情報
  - 広告範囲
  - 広告改ざん防止署名
  </td>
    {/* prettier-ignore */}
    <td>
  - サイトオリジン
  - サイト付帯情報
  </td>
  </tr>
  <tr>
    <td>署名</td>
    <td>レジストリによる署名</td>
    <td>コンテンツ発信者による署名</td>
    <td>広告主・広告代理店による署名</td>
    <td>Web サイト保有者による署名</td>
  </tr>
</table>

上の表のデータは全てデータモデルとして Verifiable Credential (VC) を採用しています。VC の仕様に基づき署名がされているため、記載情報の改ざんができません。また、 VC の IHV モデルの利点からこれらのデータを利用者が検証する際にレジストリ等にアクセスがなくプライバシーの懸念がないことも特徴です。Signed を省略してそれぞれ **[OP](/terminology/originator-profile.md)**, **[DP](/terminology/document-profile.md)**, **[AP](/terminology/advertisement-profile.md)**, [SP](/terminology/site-profile.md) と呼ぶことがあります。また、簡便のために SDP と SAP の区別をせず SDP と呼ぶことがあります。

**[SOP](/terminology/signed-originator-profile.md)** は情報の発信者の身元を表明するためのデータです。内容には基本的な組織情報だけでなく、組織の情報発信者ポリシーや、信頼性を示す第三者認証など資格情報も含みます。 SOP の情報を見ることでユーザーは正しさの保証された情報から組織の信頼性を判断することができます。

**[SDP](/terminology/signed-document-profile.md)**, **[SAP](/terminology/signed-advertisement-profile.md)** はコンテンツの付帯情報を表明するためのデータです。記載情報には真正性があり、 `iss` クレームにある OP ID から SOP と紐づけて発信者の信頼性を確認することができます。また、ページ上のコンテンツの範囲を CSS セレクターで特定し、ユーザーに表示することができます。その範囲のコンテンツには署名がつけられ、改ざん防止に役立ちます。

Web サイトのドメインを特定の OP ID の組織が保有していることを表明する [Signed SP](/terminology/signed-site-profile.md) もあります。保有を表明したいドメインの `/.well-known/pp.json` パス に [Profile Pair](/terminology/profile-pair.md) として SOP と配置します。

:::note

[Signed SP](/terminology/signed-site-profile.md) は広告の Supply Side Platform (SSP) と略称が重複するため、 SSP でなく Signed SP と略記しています。

:::

SOP は SOP を発行するレジストリによって署名がされています。レジストリは記載情報を確認してから署名・発行するため、 SOP 記載情報は第三者による確認がなされています。

SDP, SAP, Signed SP はコンテンツ発信者・サイト保有者が署名をします。 署名を行う主体の信頼性は、レジストリが発行した SOP によって検証することができます。

署名により情報の真正性が担保されているため、 SOP, SDP, SAP を自社サイト以外に流通させることができます。複雑な RTB ネットワークを通して Web ページに掲載される広告や、別メディアに再配信されるニュースなどのユースケースで活用できます。

コンテンツに SDP, SAP を紐づける場合、署名者の SOP と合わせて [Profile Set](/terminology/profile-set.md) や [Profile Pair](/terminology/profile-pair.md) などのデータ構造にまとめて配信してください。 SDP に対応する SOP がない場合 SDP の検証ができません。

## Web サイトでの利用

SOP, SDP を Web サイト上で利用するためには、 Web ページの HTML に [Profile Set](/terminology/profile-set.md), [Profile Pair](/terminology/profile-pair.md) へのリンクを埋め込みます。ユーザーは OP 拡張機能を開くことで、コンテンツに紐づく SOP, SDP を確認することができます。

import PopUpDp from "./assets/popup-dp.png";
import popUpOp from "./assets/popup-op.png";

<div style={{ display: "flex" }}>
  <img src={PopUpDp} width={"50%"} />
  <img src={popUpOp} width={"50%"} />
</div>

ページ内の各コンテンツの位置も特定されます。

![ページ内に表示されるマーカー](./assets/markers.png)

SOP, SDP の検証に失敗した場合、 OP 拡張機能に検証失敗の画面が表示されます。ユーザーに危険なサイトを閲覧している可能性があることを警告します。

import verificationFailed from "./assets/verification-failed.png";

<img src={verificationFailed} width={550} />
